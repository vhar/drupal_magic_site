Модуль интеграции MagicSite c Drupal 8
========================================

# Описание
Модуль предназначен для автоматического встраивания обязательных разделов сайта образовательных организаций, предусмотренных законодательством Российской Федерации, из информационной системы «MagicSite» на сайт под управлением CMS Drupal.  
Внешний вид сайта, включая меню и инкапсулированные обязательные разделы, устанавливается в CMS Drupal. Модуль не оказывает влияния на необязательные разделы, которые ведутся на сайте CMS Drupal.  
При использовании модуля владелец сайта должен завести аккаунт в информационной системе MagicSite и внести в неё данные о своей организации.  
Информационная система «MagicSite» зарегистрирована в РОСПАТЕНТ № 2020662557 от 16 октября 2020 год, включена в Единый реестр российских программ для электронных вычислительных машин и баз данных по Приказу Минцифры России от 15.03.2021 № 151 Приложение № 2, реестровый №9719, совместима со всеми операционными системами, в том числе с операционной системой Альт на платформе х86 и для архитектуры aarch64.  

Информационная система «MagicSite» предусматривает ведение следующих обязательных разделов со своими подразделами:
 * Сведения об образовательной организации;
 * Информационная безопасность;
 * Противодействие коррупции;
 * Независимая оценка качества;
 * Педагоги;
 * Организация питания.

Представление на сайте производится в строгом соответствии с законодательством. При изменении законодательства в ИС MagicSite вносятся соответствующие правки, что автоматически находит отражение на сайте пользователя. Пользователь избавлен от необходимости отслеживать требования к сайтам образовательных организаций – достаточно заполнять поля ИС MagicSite. Данные попадают в систему мониторинга сайтов.

# Требования
Drupal версии 8.х  

# Установка с использованием модуля "Update Manager"
1. Скачайте ZIP архив модуля https://dev2.epublish.ru/pub/drupal-magic-site/-/raw/master/magicsite-8.x.tar.gz
  > Если у вас версия Drupal от 8.8 и старше, рекомендуем скачать модль версии magicsite-9.x
  > https://dev2.epublish.ru/pub/drupal-magic-site/-/raw/master/magicsite-9.x.tar.gz
2. Авторизуйтесь на вашем сайте под пользователем имеющим права на установку и настройку модулей
3. В меню "Управление" кликните по ссылке "Расширения"
4. В открывшемся окне нажмите кнопку "Установить новый модуль"
  >Если вы не видите кнопку "Установить новый модуль", необходимо активировать модуль "Update Manager", для чего:
  >* Найдите в списке моулей "Update Manager"
  >* Отметтье чекбокс рядом с названием данного модуля
  >* Hажмите кнопку "Установить" внизу страницы
5. В разделе "Загрузите архив модуля или темы для установки" кликните "Выберите файл" и выберите скачанный в шаге 1 архив
6. Нажмите кнопку "Установить"

После установки модуля вы будете перенаправлены на страницу "Update manager".  
Кликните по ссылке "Включить недавно добавленные модули" ("Enable newly added modules")

# Установка вручную (без использования модуля "Update Manager")
1. Скачайте ZIP архив модуля https://dev2.epublish.ru/pub/drupal-magic-site/-/raw/master/magicsite-8.x.tar.gz
  > Если у вас версия Drupal от 8.8 и старше, рекомендуем скачать модль версии magicsite-9.x
  > https://dev2.epublish.ru/pub/drupal-magic-site/-/raw/master/magicsite-9.x.tar.gz
2. Распакуйте архив в папку /modules/custom вашего сайта.

# Активация
После установки модуля и перехода по ссылке "Включить недавно добавленные модули" ("Enable newly added modules") вы окажитесь на странице "Расширения".  
Если вы не перешли по ссылке поле установки модуля или устанавливали модуль вручную перейдите на страницу "Расширения", для чего:
1. Авторизуйтесь на вашем сайте под пользователем имеющим права на установку и настройку модулей  
2. В меню "Управление" кликните по ссылке "Расширения"
Активируйте модуль, для чего:
1. Найдите в таблице модуль "MagicSite"
2. Отметтье чекбокс рядом с названием модуля
3. Внизу страницы нажмите кнопку "Установить"

# Настройка
1. Авторизуйтесь на вашем сайте под пользователем имеющим права на установку и настройку модулей  
2. В меню "Управление" кликните по ссылке "Конфигурация"
3. В разделе "Система" кликните по ссылке "Настройка MagicSite".
4. В поле "URL сайта в ИС MagicSite" укажите адрес сайта, созданного в виртуальном кабинете MagicSite (https://cp.edusite.ru)  
5. Нажмите кнопку "Сохранить конфигурацию".

# Меню модуля
Для отображения меню навигации по обязатальным разделам сайта образовательной организации разместите блок меню "Сведения об образовательной организации" в нужную область вашего сайта на CMS Drupal, для чего:
1. Авторизуйтесь на вашем сайте под пользователем имеющим права на установку и настройку модулей
2. В меню "Управление" кликните по ссылке "Структура"
3. В открывшемся окне кликните по ссылке "Схема блоков"
4. Найдите нужную область и нажмите на кнопку "Расположить блок"
  >Рекомендуем разместить данное меню в той же области сайта, где расположено основное меню навигации.
  >Как правило, это "первая боковая колонка" ("Sidebar first")
5. В открывшемся окне найдите блок "Сведения об образовательной организации" и нажмите кнопку "Разместить блок"
6. Нажмите кнопку "Сохранить блоки"

# Удаление
1. Авторизуйтесь на вашем сайте под пользователем имеющим права на установку и настройку модулей  
2. В меню "Управление" кликните по ссылке "Расширения"
3. Перейдите на закладку "Удалить"
6. Отметтье чекбокс в колонке "Удалить" в строке модуля "MagicSite"
7. Нажмите кнопку "Удалить"
8. В открывшемся окне подтверждения нажмите кнопку "Удалить"
